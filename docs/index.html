<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
</head>
<body class="page" style="background-color: rgb(29, 29, 29);">
    <div class="boarder" style="display: grid; justify-content: center;">
        <h1 class="welcome-message" style="color: white;">Welcome, please fill in the form!</h1>
        <input type="text" class="name-input" placeholder="Enter name here..." style="width: 10rem; margin-left: 10rem;" />
        <button type="button" style="width: 5rem; margin-left: 13rem; margin-top: 1rem;">Submit</button>
        <p class="form" style="margin-left: 11rem; color: white;"></p>
    </div>
</body>
    <script>
        document.querySelector("button").addEventListener("click", async () => {
            const name = document.querySelector(".name-input").value;
            if (name.trim === "")
        {
            document.querySelector(".form").textContent = "Name is required.";
            return;
        }

            try
            {
                const response = await fetch("https://funktionsapplikation.azurewebsites.net/api/httpexample", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({ name })
                });

                const text = await response.text();
                document.querySelector(".form").textContent = text;
            } catch (error) {
                console.error("Error: ", error)
                document.querySelector(".form").textContent = "Something went wrong.";
            }
        });
    </script>
</html>